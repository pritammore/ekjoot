!function(e){"use strict";function t(t){var i="step-one",s="step-two",n="step-three",o="step-four";e("html,body").animate({scrollTop:0},500),t===i?(e.tab("change tab",i),e("#step-one").addClass("active").removeClass("completed"),e("#step-two").removeClass("active completed"),e("#step-three").removeClass("active completed"),e("#step-four").removeClass("active completed"),e("#next-two").css("display","inline-block"),e("#next-three").css("display","none"),e("#next-four").css("display","none"),e("#finish-btn").css("display","none"),e("#back-one").css("display","none"),e("#back-two").css("display","none"),e("#back-three").css("display","none"),e(".step-one").transition("fade down"),e(".step-two").transition("hide"),e(".step-three").transition("hide"),e(".step-four").transition("hide")):t===s?(e.tab("change tab",s),e("#step-one").removeClass("active").addClass("completed"),e("#step-two").addClass("active").removeClass("completed disabled"),e("#step-three").removeClass("active completed"),e("#step-four").removeClass("active completed"),e("#next-two").css("display","none"),e("#next-three").css("display","inline-block"),e("#next-four").css("display","none"),e("#finish-btn").css("display","none"),e("#back-one").css("display","inline-block"),e("#back-two").css("display","none"),e("#back-three").css("display","none"),e(".step-one").transition("hide"),e(".step-two").transition("fade down"),e(".step-three").transition("hide"),e(".step-four").transition("hide")):t===n?(e.tab("change tab",n),e("#step-one").removeClass("active").addClass("completed"),e("#step-two").removeClass("active").addClass("completed"),e("#step-three").addClass("active").removeClass("completed disabled"),e("#step-four").removeClass("active completed"),e("#next-two").css("display","none"),e("#next-three").css("display","none"),e("#next-four").css("display","inline-block"),e("#finish-btn").css("display","none"),e("#back-one").css("display","none"),e("#back-two").css("display","inline-block"),e("#back-three").css("display","none"),e(".step-one").transition("hide"),e(".step-two").transition("hide"),e(".step-three").transition("fade down"),e(".step-four").transition("hide")):(e.tab("change tab",o),e("#step-one").removeClass("active").addClass("completed"),e("#step-two").removeClass("active").addClass("completed"),e("#step-three").removeClass("active").addClass("completed"),e("#step-four").addClass("active").removeClass("completed disabled"),e("#next-two").css("display","none"),e("#next-three").css("display","none"),e("#next-four").css("display","none"),e("#finish-btn").css("display","inline-block"),e("#back-one").css("display","none"),e("#back-two").css("display","none"),e("#back-three").css("display","inline-block"),e(".step-one").transition("hide"),e(".step-two").transition("hide"),e(".step-three").transition("hide"),e(".step-four").transition("fade down"))}function i(t){var i=e(document).scrollTop();e("#navigation-menu a").each(function(){var t=e(this),s=e(t.attr("href"));s.position().top<=i&&s.position().top+s.height()>i?(e("#navigation-menu a").removeClass("active"),t.addClass("active")):t.removeClass("active")})}function s(){var e=this;setTimeout(function(){e.style.cssText="height:"+(e.scrollHeight+2)+"px;"},0)}function n(e,t){var i,s=o(e);i=s?'<i class="checkmark icon"></i>'+main_vars.copy_clipboard:'<i class="remove icon"></i>'+main_vars.copy_clipboard_err,"string"==typeof t&&(t=document.getElementById(t)),t.innerHTML=i,setTimeout(function(){t.innerHTML=""},2e3)}function o(e){var t,i,s="_hiddenCopyText_",n="INPUT"===e.tagName||"TEXTAREA"===e.tagName;if(n)o=e,t=e.selectionStart,i=e.selectionEnd;else{if(o=document.getElementById(s),!o){var o=document.createElement("textarea");o.style.position="absolute",o.style.left="-9999px",o.style.top="0",o.id=s,document.body.appendChild(o)}o.textContent=e.textContent}var a=document.activeElement;o.focus(),o.setSelectionRange(0,o.value.length);var l;try{l=document.execCommand("copy")}catch(e){l=!1}return a&&"function"==typeof a.focus&&a.focus(),n?e.setSelectionRange(t,i):o.textContent="",l}e(document).on("hover",".blogs.post .image, .team, .petition-list-card .ui.image, .petition-card .image",function(t){"mouseenter"==t.type?e(this).dimmer("show"):"mouseleave"==t.type&&e(this).dimmer("hide")}),e("#share-message").popup(),e(".social-share .button, .social-share .item, .supporter-avatar, .contributer-avatar").popup(),e(".searchBtn, .searchBtnMobile").on("click",function(){e(".search-menu").css("display","block"),e("#leftside-menu").sidebar("hide"),e(".search-input").focus()}),e("#closeSearch").on("click",function(){e(".search-menu").css("display","none")}),e(".typeUser").on("click",function(){var t=e("input[name='typeUser']:checked").val();"decisioner"==t?(e("#decision-fields").css("display","none"),e("#petitioner").removeClass("grey button").addClass("primary button"),e("#decisioner").removeClass("primary button").addClass("grey button")):(e("#decision-fields").css("display","flex"),e("#decisioner").removeClass("grey button").addClass("primary button"),e("#petitioner").removeClass("primary button").addClass("grey button"))}),e(".edit-update, .more-share, #search_topics, select.dropdown, .give-type-button").dropdown(),e(".category-select").dropdown("set selected",e("#category_id").val()),e(".decision-title-select").dropdown("set selected",e("#decision_title_id").val()),e(".user-menu, .header-submenu, .more-share, .nav-submenu").dropdown({on:"hover"}),e("#topics-search").dropdown({apiSettings:{url:main_vars.home_url+"/topics-search?q={query}"},allowReselection:!0,allowAdditions:!0,hideAdditions:!1,maxSelections:5});var a=[];e('input[name="current_topics[]"]').each(function(t){var i=e(this).val();a.push(i)}),e("#topics-search").dropdown("set exactly",a),e(".search-petition").keyup(function(){var t=e(this).val();e(".search-keywords").text(t)}),e("#organization-search").dropdown({apiSettings:{url:main_vars.home_url+"/organization-search?q={query}"},allowReselection:!0,allowAdditions:!0,hideAdditions:!1,maxSelections:1}),e("#organization-search").dropdown("set selected",e("#decision_organization_name").val()),e("#left-menu-btn").on("click",function(){e("#leftside-menu").sidebar("toggle",{transition:"overlay"})}),e("#mobile-sign-btn").on("click",function(){e("#sign-sidebar").sidebar("toggle",{transition:"overlay"})}),e("#close-mobile-sign").on("click",function(){e("#sign-sidebar").sidebar("toggle")}),e(document).on("click",".message .close",function(){e(".message .close").closest(".message").transition("fade")}),e(".new-comment").transition("fade"),e(".ui.accordion").accordion(),e(".petition-goal").progress({label:!1}),e("#sign-sticky").sticky({context:"#content",offset:60,observeChanges:!0}),e("#sign-category").sticky({context:"#content",offset:70,observeChanges:!0}),e("#about-sticky").sticky({context:"#content",offset:70,observeChanges:!0}),e("#tab-sticky, #navigation-sticky").sticky({context:"#main-content, #content",offset:0,observeChanges:!0,onStick:function(){e(this).addClass("color white")},onUnstick:function(){e(this).removeClass("color white")}}),e("#share-post").sticky({context:"#content",offset:200,observeChanges:!0});var l=10,c=e(".input-fields-wrap"),r=e(".add-field-button"),d=e(".add-level-button"),m=1;if(e(r).click(function(t){t.preventDefault(),m<l&&(m++,e(c).append('<div class="ui grid search decision-search"><div class="sixteen wide mobile eight wide tablet eight wide computer column"><div class="ui large fluid input"><input class="prompt" type="text" id="new_receiver" name="new_receiver[]" placeholder="'+main_vars.full_name_holder+'" value=""><input class="new_decisionmakers" type="hidden" name="new_decisionmakers[]" value=""></div></div><div class="sixteen wide mobile eight wide tablet eight wide computer column"><div class="ui large fluid input"><input class="decision-title" type="text" id="new_postion" name="new_position[]" placeholder="'+main_vars.position_holder+'" value=""></div></div><div class="results"></div><a href="#" class="remove-field"><i class="inverted circular close link icon"></i></a></div>'))}),e(d).click(function(t){if(t.preventDefault(),m<l){m++;var i="left";"after"==main_vars.give_currency_position&&(i="right");var s="";s+='<div class="ui grid search"><div class="sixteen wide mobile eight wide tablet eight wide computer column"><div class="ui large fluid '+i+' labeled input">',"before"==main_vars.give_currency_position&&(s+='<label for="amount_level" class="ui label">'+main_vars.give_currency_symbol+"</label>"),s+='<input type="text" id="amount_level" name="amount_level[]" placeholder="'+main_vars.amount_level_holder+'" value="">',"after"==main_vars.give_currency_position&&(s+='<label for="amount_level" class="ui label">'+main_vars.give_currency_symbol+"</label>"),s+='</div></div><div class="sixteen wide mobile eight wide tablet eight wide computer column"><div class="ui large fluid input"><input type="text" id="name_level" name="name_level[]" placeholder="'+main_vars.level_name_holder+'" value=""></div></div><div class="results"></div><a href="#" class="remove-field"><i class="inverted circular close link icon"></i></a></div>',e(c).append(s)}}),e(c).on("click",".remove-field",function(t){t.preventDefault(),e(this).parent("div").remove(),m--}),e(".post-carousel").slick({dots:!0,infinite:!0,slidesToShow:4,slidesToScroll:3,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,variableWidth:!0,arrows:!1}}]}),e(".testimonial-carousel").slick({dots:!0,infinite:!0,autoplay:!0,slidesToShow:1,slidesToScroll:1,appendArrows:""}),e(".feature-petition").slick({adaptiveHeight:!0,lazyLoad:"progressive",asNavFor:".feature-navigation"}),e(".feature-navigation").slick({slidesToShow:6,slidesToScroll:1,asNavFor:".feature-petition",centerMode:!0,centerPadding:"40px",appendArrows:"",focusOnSelect:!0}),e(".ui.modal").modal({transition:"fade down"}),e(".signin-btn, .submit-signin-btn").on("click",function(){e("#signinModal").modal("show"),e("#userLoginForm").css("display","block"),e("#userSignupForm").css("display","none"),e("#signin-button").css("display","none"),e("#signup-button").css("display","inline-block")}),e(".signup-btn, .signup-guest").on("click",function(){e("#signinModal").modal("show"),e("#userLoginForm").css("display","none"),e("#userSignupForm").css("display","block"),e("#signin-button").css("display","inline-block"),e("#signup-button").css("display","none")}),e(".forgot-password").on("click",function(){e("#forgot-password").modal("show")}),e("#set-goal").on("click",function(){e("#set-goal-confirm").modal("show"),e("#goal-number").text(e("#new-goal").val()),e("#goal-response").empty()}),e("#reopen-petition").on("click",function(){e("#reopen-confirm").modal("show")}),e("#close-petition").on("click",function(){e("#close-confirm").modal("show")}),e("#contact-btn").on("click",function(){e("#contact-user").modal("show")}),e(".invite-responsive").on("click",function(){var t=e(this).attr("data-email");e("#invite-modal").modal("show"),e("#invitation-response").empty(),e("#invite_email").val(t)}),e("#invita-cancel").on("click",function(){e("#invite-modal").modal("hide")}),e("#skip-after-sign").on("click",function(){e("#sign-successful-modal").modal("hide")}),e(".ui.checkbox").checkbox(),e("#up_birthday").calendar({startMode:"year",type:"date",formatter:{date:function(e,t){if(!e)return"";var i=e.getDate(),s=e.getMonth()+1,n=e.getFullYear();return s+"/"+i+"/"+n}}}),e("#petition-tab .item").tab(),e("#petition-tab .item").on("click",function(){e("html,body").animate({scrollTop:e("#main-content").offset().top},300)}),e(".step-two").transition("hide"),e(".step-three").transition("hide"),e(".step-four").transition("hide"),e("#step-one").on("click",function(){t("step-one")}),e("#step-two").on("click",function(){t("step-two")}),e("#step-three").on("click",function(){t("step-three")}),e("#step-four").on("click",function(){t("step-four")}),e("#next-two").click(function(){t("step-two")}),e("#next-three").click(function(){t("step-three")}),e("#next-four").click(function(){t("step-four")}),e("#back-one").click(function(){t("step-one")}),e("#back-two").click(function(){t("step-two")}),e("#back-three").click(function(){t("step-three")}),e("#slideshow > div").length>1&&(e("#slideshow > div:gt(0)").hide(),setInterval(function(){e("#slideshow > div:first").fadeOut(1e3).next().fadeIn(1e3).end().appendTo("#slideshow")},6e3)),"none"!=main_vars.type_menu?e(".masthead").visibility({once:!1,onBottomPassed:function(){e(".menu-home").removeClass("menu home-menu").addClass("fixed menu header-menu"),e(".fixed-logo").transition("fade in").css("display","block"),e(".inverted-logo").transition("hide"),e(".signup-btn").hasClass("inverted")&&e(".signin-btn").hasClass("inverted")&&(e(".signup-btn").removeClass("inverted button").addClass("green button signup-btn-style"),e(".signin-btn").removeClass("inverted button").addClass("primary button")),e("#add-petition-btn").hasClass("inverted")&&e("#add-petition-btn").removeClass("inverted button").addClass("primary button submit-petition-btn")},onBottomPassedReverse:function(){e(".menu-home").removeClass("fixed menu header-menu").addClass("menu home-menu"),e(".fixed-logo").transition("hide"),e(".inverted-logo").transition("fade in"),e(".signup-btn").hasClass("inverted")||e(".signin-btn").hasClass("inverted")||(e(".signup-btn").removeClass("green button signup-btn-style").addClass("inverted button"),e(".signin-btn").removeClass("primary button").addClass("inverted button"),e(".btn-modal").removeClass("inverted button").addClass("button signup-btn-style")),e("#add-petition-btn").hasClass("inverted")||e("#add-petition-btn").removeClass("primary button submit-petition-btn").addClass("inverted button")}}):(e(".header-menu").removeClass("fixed menu").addClass("menu"),e("#wrapper").css("padding-top","1px")),"false"==main_vars.is_mobile){var p=e("#content").width();e("#comments-list").visibility({once:!1,onTopVisible:function(){e("#comment-sticky").removeClass("sticky").addClass("fixed bottom sticky").css("width",p)},onTopVisibleReverse:function(){e("#comment-sticky").removeClass("fixed bottom sticky").addClass("sticky").removeAttr("style")},onBottomVisible:function(){e("#comment-sticky").removeClass("fixed bottom sticky").addClass("sticky").removeAttr("style")},onBottomVisibleReverse:function(){e("#comment-sticky").removeClass("sticky").addClass("bottom fixed sticky").css("width",p)}})}e("#main-petition").visibility({once:!1,onTopVisible:function(){e("#mobile-sign-btn").removeClass("sticky").addClass("fixed bottom sticky").css("width","100%")},onTopVisibleReverse:function(){e("#mobile-sign-btn").removeClass("fixed bottom sticky").addClass("sticky").removeAttr("style")},onBottomVisible:function(){e("#mobile-sign-btn").removeClass("fixed bottom sticky").addClass("sticky").removeAttr("style")},onBottomVisibleReverse:function(){e("#mobile-sign-btn").removeClass("sticky").addClass("bottom fixed sticky").css("width","100%")}});var u=0,v=e(".header-menu").height();if(e(window).scroll(function(t){var i=e(this).scrollTop();i>u&&i>=v?("scroll"==main_vars.type_menu?e(".header-menu").removeClass("nav-down").addClass("nav-up"):"fixed"==main_vars.type_menu&&e("#tab-sticky, #navigation-sticky").css("margin-top","60px").removeClass("nav-down").addClass("nav-up"),e("#mobile-sign-btn").removeClass("sign-btn-down").addClass("sign-btn-up")):("scroll"==main_vars.type_menu?e(".header-menu").removeClass("nav-up").addClass("nav-down"):"fixed"==main_vars.type_menu&&e("#tab-sticky, #navigation-sticky").css("margin-top","60px").removeClass("nav-up").addClass("nav-down"),e("#mobile-sign-btn").removeClass("sign-btn-up").addClass("sign-btn-down")),u=i}),e(document).on("scroll",i),e('a[href^="#"]').on("click",function(t){t.preventDefault(),e(document).off("scroll"),e("a").each(function(){e(this).removeClass("active")}),e(this).addClass("active");var s=this.hash,n=e(s);e("html, body").stop().animate({scrollTop:n.offset().top+2},600,"swing",function(){window.location.hash=s,e(document).on("scroll",i)})}),e("#back-to-top").length){var h=100,b=function(){var t=e(window).scrollTop();t>h?e("#back-to-top").addClass("show"):e("#back-to-top").removeClass("show")};b(),e(window).on("scroll",function(){b()}),e("#back-to-top").on("click",function(t){t.preventDefault(),e("html,body").animate({scrollTop:0},600)})}e(".auto-height").bind("keydown",s);var f=e("#blog-featured").height()+150;"true"==main_vars.is_mobile&&e("#blog-hero-container, .blog-hero").attr("style","height: "+f+"px"),e("#edit-letter").on("click",function(){var t=e("#content-letter").text(),i='<textarea id="textarea-letter" rows="20" style="width: 100%; border: 0;">'+t+"</textarea>";e("#content-letter").html(i).focus(),e("#save-letter").css("display","block"),e("#edit-letter").css("display","none")}),e(document).on("click","a.edit",function(){var t=e(this).attr("data-id"),i=e("#comment-content-"+t).height()+20,s=e("#comment-content-"+t).text(),n='<div class="respon-message" id="comment-edit-message-'+t+'"></div><div class="ui form"><div class="field"><textarea rows="1" class="auto-height" id="comment-editor-'+t+'" style="width: 100%; height: '+i+'px">'+s+'</textarea></div><a href="javascript:void(0)" class="ui right floated mini button comment-edit-cancel" id="comment-edit-cancel-'+t+'" data-id="'+t+'">'+main_vars.cancel+'</a> <a href="javascript:void(0)" class="ui primary right floated mini button comment-edit-submit" id="comment-edit-submit-'+t+'" data-id="'+t+'"><i class="save icon"></i>'+main_vars.save+"</a></div>";e("#comment-content-"+t).html(n).focus()}),e(document).on("click","a.comment-edit-cancel",function(){var t=e(this).attr("data-id"),i=e("#comment-editor-"+t).val();i=i.replace(/\n\r?/g,"<br/>"),e("#comment-content-"+t).html(i)}),e("#supporters-list, #region-list").slimScroll({height:"450px",size:"3px"}),e("#copy-link").on("click",function(){n(document.getElementById("short-link"),"msg-copy")}),e(document).on("click","[data-bjax]",function(t){new Bjax(this),e(".bjax-backdrop").append('<div class="bjax-loading-wrapper">'+main_vars.html_preloader+"</div>"),e("html,body").scrollTop(0),t.preventDefault()})}(jQuery);